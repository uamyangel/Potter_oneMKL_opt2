xaccel@xaccel:/xrepo/App/Potter_oneMKL_opt2$ sudo ./scripts/setup_vtune_permissions.sh
======================================================================
       Intel VTune 权限配置
======================================================================

[1/3] 配置 ptrace 权限...
当前 ptrace_scope: 0
✓ ptrace_scope 已经是 0

[2/3] 检查 VTune 采样驱动...
✓ VTune 采样驱动已加载

[3/3] 验证配置...
ptrace_scope: 0
✓ VTune 驱动: 已加载

======================================================================
       配置完成!
======================================================================

现在可以运行 VTune 分析:
  ./scripts/vtune_analysis.sh -t hotspots

注意:
  - ptrace_scope 设置是临时的，重启后会恢复
  - 如需永久设置，编辑 /etc/sysctl.d/10-ptrace.conf
  - 即使驱动未加载，VTune 也可以在用户模式下工作

xaccel@xaccel:/xrepo/App/Potter_oneMKL_opt2$ ./scripts/vtune_analysis.sh -t hotspots
======================================================================
       Intel VTune 性能分析 - Potter 优化项目
======================================================================

[1/6] 检查 Intel VTune 安装...
✓ Intel VTune 已安装: Intel(R) VTune(TM) Profiler 2025.4.0 (build 630424) Command Line Tool
[2/6] 检查可执行文件...
✓ 找到可执行文件: /xrepo/App/Potter_oneMKL_opt2/build/route
[3/6] 准备分析环境...
检查基准测试用例...
  ✓ koios_dla_like_large_unrouted.phys
  ✓ mlcad_d181_lefttwo3rds_unrouted.phys
  ✓ ispd16_example2_unrouted.phys
✓ 环境准备完成
[4/6] 开始性能分析...

进度: 1/3
======================================================================
运行 VTune 分析
  类型: hotspots
  用例: koios_dla_like_large_unrouted.phys
  线程: 80
======================================================================
执行命令:
vtune -collect hotspots -result-dir /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted -- /xrepo/App/Potter_oneMKL_opt2/build/route -i /xrepo/App/Potter_oneMKL_opt2/benchmarks/koios_dla_like_large_unrouted.phys -o /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted/output.phys -t 80

vtune: Warning: Microarchitecture performance insights will not be available. Make sure the sampling driver is installed and enabled on your system.
vtune: Collection started. To stop the collection, either press CTRL-C or enter from another console window: vtune -r /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted -command stop.
[   0.000] input: /xrepo/App/Potter_oneMKL_opt2/benchmarks/koios_dla_like_large_unrouted.phys
[   0.000] output: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted/output.phys
[   0.000] device: xcvu3p.device
[   0.000] thread: 80
[   0.000] runtime first: false
[   0.000]
[   0.000] Didn't find device cache. Start reading.
[   0.000]
[   8.254] device name    : xcvu3p
[   8.254] str_list       : 467843
[   8.254] tile_list      : 208370
[   8.254] tile_type_list : 197
[   8.254] site_type_list : 57
[   8.254] wire_list      : 83282368
[   8.254] wire_type_list : 89
[   8.254] node_list      : 28226432
[   9.268] Check 0: memory_peak: 9613116 kB
[   9.268] begin build string mapping
[   9.404] end build string mapping
[   9.404] Check 1: memory_peak: 9675428 kB, last memory_peak: 9613116 kB, diff: 62312 kB
[   9.570] x_max, y_max   : 107, 299
[   9.598] sites          : 82706
[  16.133]
[  16.133] node end tiles : 28226432
[  16.133] node wires     : 83218060
[  16.133]
[  16.133] node degree    ocurrance
[  16.133] 1              12939921
[  16.133] 2              8215668
[  16.133] 3              2148939
[  16.133] 4              471652
[  16.133] 5              1406290
[  16.133] 6              825926
[  16.133] >=7            2218036
[  16.133]
[  16.133] Check 2: memory_peak: 12421376 kB, last memory_peak: 9675428 kB, diff: 2745948 kB
[  16.709] Check 3: memory_peak: 12535096 kB, last memory_peak: 12421376 kB, diff: 113720 kB
[  16.709] build tile_type pip list begin
[  16.719] build tile_type pip list end
[  16.719]
[  16.719] Check 4: memory_peak: 12561788 kB, last memory_peak: 12535096 kB, diff: 26692 kB
[  19.213] edges          : 130278682
[  19.213] indirect edges : 110437488
[  19.213] direct edges   : 19841194
[  19.213] Check 5: memory_peak: 12561788 kB, last memory_peak: 12561788 kB, diff: 0 kB
[  19.213] Building LAGUNA_I mapping
[  19.222] lag_cnt: 34560
[  19.222] LAGUNA_I mapping built
[  19.222] Begin get node type
[  20.129] Begin update coordinate info
[  20.364] Begin get node length
[  20.766] Finish reading.
[  20.923] Dump device cache to the disk.
[  24.578] Finish dumping.
[  24.578] reading physical netlist...
[  24.578]
[  31.902] str_list       : 3180045
[  31.902] phys_nets      : 2485562
[  33.605] preserve net: GLOBAL_LOGIC0
[  34.083] preserve net: GLOBAL_LOGIC1
[  35.372] nets           : 508594
[  35.372] multi-src nets : 17513
[  35.372] connections    : 983642
[  35.372] indirect connections: 911608
[  35.372] direct connections  : 72034
[  35.372]
[  40.359] DeadEndNodeForPins: 592579
[  40.359] #DeadEndNode: 3205580
[  40.506] #DeadEndNode: 76516
[  40.513] #DeadEndNode: 7000
[  40.513] #DeadEndNode: 791
[  40.513] #DeadEndNode: 501
[  40.513] #DeadEndNode: 305
[  40.513] #DeadEndNode: 258
[  40.513] #DeadEndNode: 158
[  40.513] #DeadEndNode: 48
[  40.514] #DeadEndNode: 39
[  49.494] #Node: 28226432 #Node (RRG) 20790884 #Edges: 28226432 #Edges (RRG): 87644515
[  49.494] #Conns: 911608 #Nets: 911608 #Indirect: 911608 #direct: 72034
[  49.494] #preservedNum: 931601
[  59.068] Route indirect connections: 911608
[  59.428] break area (not included): 288
[  59.428] 118637/508594 nets are labeled. ratio = 0.233265
[  59.428] 455666/911608 connections are labeled, ratio = 0.499849
[  59.437] Connections bbox: [x: (-1, 108), y: (-1, 300)]
[  84.586] [kmeans] iter 184 finished.
[  84.586] [kmeans] cluster sizes:  4742  4548 10745  2234  7953  3277  8467  1806  2564  2704  1597 12826  9515  1528  5224  3198  6138  8652  1585  9466  5818  1853  3537  2453  4746  2398  3087  4605  3216  1242  8130  5339  3043  2640  2298 10392 11846  4293  2883  5827 12047 10440  3627  6197  2240  1065  3813  3506  1975  5117  8870  6201  7586  2926  6555 12559 12568  3101  8036  5351  2150  2280  2819  8717  7035  4034 15365  6974 10226  3319  3397  7313  2190  9539 10571  6998  3348  8157 15356  3959
[  84.635] Connections bbox: [x: (-1, 108), y: (-1, 300)]
[  85.219] Schedule Level: 24
[  85.219] ---------------------------------------------------------------------------------------------------------------------------
[  85.219] Iteration PFactor        HFactor   RoutedConnections   OverlapNodes   decreaseRatio  shareRatio   numBatches     Times
[ 107.107] *1        1.375          1         911608              481978         -inf           1.89         19             21.89
[ 120.460] *2        2.73           1.24      609471              306173         0.36           1.99         19             13.35
[ 133.736] *3        4.08           1.46      433521              177101         0.42           2.45         19             13.28
[ 146.260] *4        5.13           1.64      269764              119303         0.33           2.26         19             12.52
[ 152.033]  5        5.95           1.76      130015              17994          0.85           7.23         19             5.77
[ 155.598]  6        6.67           1.85      46639               6100           0.66           7.65         19             3.56
[ 157.954]  7        7.39           1.91      22934               2571           0.58           8.92         19             2.36
[ 159.634]  8        8.15           1.94      13900               1168           0.55           11.90        19             1.68
[ 160.938]  9        8.98           1.96      9084                555            0.52           16.37        19             1.30
[ 162.033]  10       9.88           1.98      6423                308            0.45           20.85        19             1.09
[ 163.076]  11       10.87          1.99      5346                131            0.57           40.81        19             1.04
[ 164.042]  12       11.96          1.99      3447                65             0.50           53.03        19             0.97
[ 164.877]  13       13.15          2.00      2596                42             0.35           61.81        19             0.83
[ 165.620]  14       14.47          2.00      2062                20             0.52           103.10       19             0.74
[ 166.241]  15       15.91          2.00      1443                10             0.50           144.30       19             0.62
[ 166.872]  16       17.51          2.00      1316                9              0.10           146.22       19             0.63
[ 167.460]  17       19.26          2.00      1112                8              0.11           139.00       19             0.59
[ 168.021]  18       21.18          2.00      925                 8              0.00           115.62       19             0.56
[ 168.563]  19       23.30          2.00      755                 4              0.50           188.75       19             0.54
[ 169.092]  20       25.63          2.00      627                 4              0.00           156.75       19             0.53
[ 169.626]  21       28.19          2.00      451                 3              0.25           150.33       19             0.53
[ 170.153]  22       31.01          2.00      398                 3              0.00           132.67       19             0.53
[ 170.641]  23       34.12          2.00      78                  2              0.33           39.00        19             0.49
[ 171.138]  24       37.53          2.00      14                  0              1.00           inf          19             0.50
[ 171.138] ---------------------------------------------------------------------------------------------------------------------------
[ 171.138] Congest ratio: 0.53 label: 1
Route indirect time: 112.07
[ 171.138] Route direct connections: 72034
[ 171.200] Direct route [Finish]. Failure: 0 / 72034
[ 171.200] Save all routing solutions [Start]
[ 172.478] FixedNetNum: 167650 / 508594
[ 172.478] Save all routing solutions [Finish]
Total route time: 113.41
[ 172.478] Dump routing solution into netlist_builder [Start]
[ 192.479] NewStrNum: 50232
[ 192.479] Dump routing solution into netlist_builder [Finish]
[ 192.600] Write to file /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted/output.phys [Start]
[ 198.068] Write to file [Finish]
Write time: 25.65
[ 199.519] Check -1: memory_peak: 163416828 kB, last memory_peak: 12561788 kB, diff: 150855040 kB
[ 204.951] netlist destruct
[ 205.021] Device destruct
vtune: Collection stopped.
vtune: Using result path `/xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted'
vtune: Executing actions 19 % Resolving information for `route'
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libboost_serialization.so.1.83.0'.
vtune: Warning: Cannot locate debugging information for file `/xrepo/App/oneAPI/vtune/2025.4/lib64/runtime/libittnotify_collector.so'.
vtune: Executing actions 19 % Resolving information for `libmkl_intel_lp64.so.2
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libstdc++.so.6'.
vtune: Executing actions 20 % Resolving information for `libc-dynamic.so'
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libz.so.1'.
vtune: Executing actions 20 % Resolving information for `libtpsstool.so'
vtune: Warning: Cannot locate debugging information for file `/xrepo/App/oneAPI/vtune/2025.4/lib64/libtpsstool.so'.
vtune: Executing actions 75 % Generating a report                              Elapsed Time: 205.181s
    CPU Time: 2216.272s
        Effective Time: 2216.172s
        Spin Time: 0s
            Imbalance or Serial Spinning: 0s
            Lock Contention: 0s
            Other: 0s
        Overhead Time: 0.100s
            Creation: 0s
            Scheduling: 0s
            Reduction: 0s
            Atomics: 0s
            Other: 0.100s
    Total Thread Count: 51,779
    Paused Time: 0s

Top Hotspots
Function                                                                        Module  CPU Time  % of CPU Time(%)
------------------------------------------------------------------------------  ------  --------  ----------------
std::vector<RouteNode*, std::allocator<RouteNode*>>::emplace_back<RouteNode*&>  route   590.050s             26.6%
RouteNode::getNeedUpdateBatchStamp                                              route   487.718s             22.0%
NodeInfo::NodeInfo                                                              route   391.579s             17.7%
Raw::Device::get_outgoing_nodes                                                 route   227.819s             10.3%
aStarRoute::routeOneConnection                                                  route    94.559s              4.3%
[Others]                                                                        N/A     424.547s             19.2%
Collection and Platform Info
    Application Command Line: /xrepo/App/Potter_oneMKL_opt2/build/route "-i" "/xrepo/App/Potter_oneMKL_opt2/benchmarks/koios_dla_like_large_unrouted.phys" "-o" "/xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted/output.phys" "-t" "80"
    Operating System: 6.14.0-34-generic DISTRIB_ID=Ubuntu DISTRIB_RELEASE=24.04 DISTRIB_CODENAME=noble DISTRIB_DESCRIPTION="Ubuntu 24.04.3 LTS"
    Computer Name: xaccel
    Result Size: 2.0 GB
    Collection start time: 15:09:37 30/10/2025 UTC
    Collection stop time: 15:13:04 30/10/2025 UTC
    Collector Type: User-mode sampling and tracing
    CPU
        Name: Intel(R) Xeon(R) Processor code named Sapphirerapids
        Frequency: 2.200 GHz
        Logical CPU Count: 80
        LLC size: 102.2 MB
        Cache Allocation Technology
            Level 2 capability: available
            Level 3 capability: available

If you want to skip descriptions of detected performance issues in the report,
enter: vtune -report summary -report-knob show-issues=false -r <my_result_dir>.
Alternatively, you may view the report in the csv format: vtune -report
<report_name> -format=csv.
vtune: Executing actions 100 % done
✓ 分析完成，耗时: 502s
[5/6] 生成报告...
生成 HTML 报告...
✓ 报告生成完成
  HTML 报告: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted/summary.html
  CSV 数据: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_koios_dla_like_large_unrouted/*.csv

进度: 2/3
======================================================================
运行 VTune 分析
  类型: hotspots
  用例: mlcad_d181_lefttwo3rds_unrouted.phys
  线程: 80
======================================================================
执行命令:
vtune -collect hotspots -result-dir /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted -- /xrepo/App/Potter_oneMKL_opt2/build/route -i /xrepo/App/Potter_oneMKL_opt2/benchmarks/mlcad_d181_lefttwo3rds_unrouted.phys -o /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted/output.phys -t 80

vtune: Warning: Microarchitecture performance insights will not be available. Make sure the sampling driver is installed and enabled on your system.
vtune: Collection started. To stop the collection, either press CTRL-C or enter from another console window: vtune -r /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted -command stop.
[   0.000] input: /xrepo/App/Potter_oneMKL_opt2/benchmarks/mlcad_d181_lefttwo3rds_unrouted.phys
[   0.000] output: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted/output.phys
[   0.000] device: xcvu3p.device
[   0.000] thread: 80
[   0.000] runtime first: false
[   0.000]
[   0.000] Device cache is found. Start loading.
[   3.789] Finish loading.
[   4.610] reading physical netlist...
[   4.610]
[   8.692] str_list       : 1919510
[   8.692] phys_nets      : 1470148
[   8.991] preserve net: controlSig0
[   9.036] preserve net: controlSig1
[  10.028] preserve net: GLOBAL_LOGIC0
[  10.472] preserve net: GLOBAL_LOGIC1
[  11.501] preserve net: clk_BUFGP_net_top_wire
[  12.568] nets           : 361461
[  12.568] multi-src nets : 88553
[  12.568] connections    : 915817
[  12.568] indirect connections: 915817
[  12.568] direct connections  : 0
[  12.568]
[  23.173] DeadEndNodeForPins: 747377
[  23.173] #DeadEndNode: 2969905
[  23.379] #DeadEndNode: 23411
[  23.382] #DeadEndNode: 4669
[  23.382] #DeadEndNode: 752
[  23.382] #DeadEndNode: 586
[  23.382] #DeadEndNode: 363
[  23.382] #DeadEndNode: 204
[  23.382] #DeadEndNode: 15
[  23.382] #DeadEndNode: 9
[  23.382] #DeadEndNode: 5
[  33.495] #Node: 28226432 #Node (RRG) 21007062 #Edges: 28226432 #Edges (RRG): 89653884
[  33.495] #Conns: 915817 #Nets: 915817 #Indirect: 915817 #direct: 0
[  33.495] #preservedNum: 578025
[  44.172] Route indirect connections: 915817
[  44.454] break area (not included): 256
[  44.454] 123432/361461 nets are labeled. ratio = 0.341481
[  44.454] 436144/915817 connections are labeled, ratio = 0.476235
[  44.465] Connections bbox: [x: (-1, 75), y: (-1, 300)]
[  56.522] [kmeans] iter 73 finished.
[  56.522] [kmeans] cluster sizes:  3564  3606  3773 10916  4532 13362  4718  4484  3373  6507 11126  4029  2765  2484 10460  7186  4691  4447  2668  2422 11643  7387 12165  3609  7194  7908 11023 11962  5021  5153  4558 10574  3957  4068  3077  3057  3998  3322  2376  7072  3809 10110  6214  4094  5750  7687  3095  1655  4339  6817  2563  3300  3343  8193  4572 10662  2155  2222 11152  7487  7725  4065  3241 10950  4842  6335 10600  2677 10410  3506  4613  9603  5172  5285  2570  6544  5641 10880 10565  4993
[  56.552] Connections bbox: [x: (-1, 75), y: (-1, 300)]
[  56.984] Schedule Level: 19
[  56.984] ---------------------------------------------------------------------------------------------------------------------------
[  56.984]  Iteration        PFactor   HFactor   RoutedConnections   OverlapNodes  decreaseRatio   shareRatio     numBatches   Times
[  85.055] *        1          1.375         1              915817         520024           -inf         1.76             11   28.07
[ 105.516] *        2           2.73      1.24              601394         361128           0.31         1.67             11   20.46
[ 128.612] *        3           4.08      1.46              480156         235208           0.35         2.04             11   23.10
[ 151.997] *        4           5.13      1.64              360034         175218           0.26         2.05             11   23.39
[ 172.748]          5           5.95      1.76              231593          69698           0.60         3.32             11   20.75
[ 191.834]          6           6.67      1.85              135763          40215           0.42         3.38             11   19.09
[ 210.266]          7           7.39      1.91               88535          25536           0.37         3.47             11   18.43
[ 225.868]          8           8.15      1.94               61335          17196           0.33         3.57             11   15.60
[ 244.807]          9           8.98      1.96               43756          11825           0.31         3.70             11   18.94
[ 256.002]         10           9.88      1.98               31944           8426           0.29         3.79             11   11.19
[ 265.444]         11          10.87      1.99               23247           5747           0.32         4.05             11    9.44
[ 274.980]         12          11.96      1.99               16255           4127           0.28         3.94             11    9.54
[ 284.795]         13          13.15      2.00               12051           3108           0.25         3.88             11    9.81
[ 297.376]         14          14.47      2.00                9044           2308           0.26         3.92             11   12.58
[ 305.304]         15          15.91      2.00                6736           1732           0.25         3.89             11    7.93
[ 325.941]         16          17.51      2.00                5048           1284           0.26         3.93             11   20.64
[ 332.933]         17          19.26      2.00                3550            935           0.27         3.80             11    6.99
[ 339.964]         18          21.18      2.00                2611            734           0.21         3.56             11    7.03
[ 345.855]         19          23.30      2.00                2097            591           0.19         3.55             11    5.89
[ 356.788]         20          25.63      2.00                1506            445           0.25         3.38             11   10.93
[ 374.987]         21          28.19      2.00                1137            342           0.23         3.32             11   18.20
[ 379.642]         22          31.01      2.00                 870            253           0.26         3.44             11    4.65
[ 385.149]         23          34.12      2.00                 551            168           0.34         3.28             11    5.51
[ 403.267]         24          37.53      2.00                 368            144           0.14         2.56             11   18.12
[ 408.335]         25          41.28      2.00                 266            107           0.26         2.49             11    5.07
[ 412.910]         26          45.41      2.00                 221             75           0.30         2.95             11    4.58
[ 416.401]         27          49.95      2.00                 158             63           0.16         2.51             11    3.49
[ 419.038]         28          54.94      2.00                 107             47           0.25         2.28             11    2.64
[ 423.117]         29          60.44      2.00                 107             37           0.21         2.89             11    4.08
[ 427.684]         30          66.48      2.00                  69             22           0.41         3.14             11    4.57
[ 435.136]         31          73.13      2.00                  39             14           0.36         2.79             11    7.45
[ 435.948]         32          80.44      2.00                  23              9           0.36         2.56             11    0.81
[ 436.246]         33          88.49      2.00                  15              7           0.22         2.14             11    0.30
[ 436.588]         34          97.33      2.00                  14              7           0.00         2.00             11    0.34
[ 436.888]         35         107.07      2.00                  16              4           0.43         4.00             11    0.30
[ 437.684]         36         117.77      2.00                   5              1           0.75         5.00             11    0.80
[ 438.102]         37         129.55      2.00                   6              2          -1.00         3.00             11    0.42
[ 438.565]         38         142.51      2.00                   8              2           0.00         4.00             11    0.46
[ 438.937]         39         156.76      2.00                   2              1           0.50         2.00             11    0.37
[ 439.330]         40         172.43      2.00                   5              0           1.00          inf             11    0.39
[ 439.330] ---------------------------------------------------------------------------------------------------------------------------
[ 439.330] Congest ratio: 0.57 label: 1
Route indirect time: 395.16
[ 439.330] Route direct connections: 0
[ 439.330] Direct route [Finish]. Failure: 0 / 0
[ 439.330] Save all routing solutions [Start]
[ 440.384] FixedNetNum: 217335 / 361461
[ 440.385] Save all routing solutions [Finish]
Total route time: 396.21
[ 440.385] Dump routing solution into netlist_builder [Start]
[ 455.293] NewStrNum: 27777
[ 455.293] Dump routing solution into netlist_builder [Finish]
[ 455.332] Write to file /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted/output.phys [Start]
[ 459.118] Write to file [Finish]
Write time: 18.79
[ 459.616] Check -1: memory_peak: 143512424 kB
[ 465.175] netlist destruct
[ 465.235] Device destruct
vtune: Collection stopped.
vtune: Using result path `/xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted'
vtune: Executing actions 19 % Resolving information for `libstdc++.so.6'
vtune: Warning: Cannot locate debugging information for file `/xrepo/App/oneAPI/vtune/2025.4/lib64/runtime/libittnotify_collector.so'.
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libboost_serialization.so.1.83.0'.
vtune: Executing actions 19 % Resolving information for dangling locations
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libstdc++.so.6'.
vtune: Executing actions 20 % Resolving information for `libz.so.1'
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libz.so.1'.
vtune: Executing actions 20 % Resolving information for `libtpsstool.so'
vtune: Warning: Cannot locate debugging information for file `/xrepo/App/oneAPI/vtune/2025.4/lib64/libtpsstool.so'.
vtune: Executing actions 75 % Generating a report                              Elapsed Time: 465.666s
    CPU Time: 7486.360s
        Effective Time: 7486.270s
        Spin Time: 0s
            Imbalance or Serial Spinning: 0s
            Lock Contention: 0s
            Other: 0s
        Overhead Time: 0.090s
            Creation: 0s
            Scheduling: 0s
            Reduction: 0s
            Atomics: 0s
            Other: 0.090s
    Total Thread Count: 35,696
    Paused Time: 0s

Top Hotspots
Function                                                                        Module   CPU Time  % of CPU Time(%)
------------------------------------------------------------------------------  ------  ---------  ----------------
std::__atomic_base<int>::load                                                   route   4069.135s             54.4%
RouteNode::getNeedUpdateBatchStamp                                              route    916.932s             12.2%
std::vector<RouteNode*, std::allocator<RouteNode*>>::emplace_back<RouteNode*&>  route    630.978s              8.4%
Raw::Device::get_outgoing_nodes                                                 route    519.837s              6.9%
NodeInfo::NodeInfo                                                              route    448.787s              6.0%
[Others]                                                                        N/A      900.692s             12.0%
Collection and Platform Info
    Application Command Line: /xrepo/App/Potter_oneMKL_opt2/build/route "-i" "/xrepo/App/Potter_oneMKL_opt2/benchmarks/mlcad_d181_lefttwo3rds_unrouted.phys" "-o" "/xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted/output.phys" "-t" "80"
    Operating System: 6.14.0-34-generic DISTRIB_ID=Ubuntu DISTRIB_RELEASE=24.04 DISTRIB_CODENAME=noble DISTRIB_DESCRIPTION="Ubuntu 24.04.3 LTS"
    Computer Name: xaccel
    Result Size: 1.5 GB
    Collection start time: 15:18:24 30/10/2025 UTC
    Collection stop time: 15:26:11 30/10/2025 UTC
    Collector Type: User-mode sampling and tracing
    CPU
        Name: Intel(R) Xeon(R) Processor code named Sapphirerapids
        Frequency: 2.200 GHz
        Logical CPU Count: 80
        LLC size: 102.2 MB
        Cache Allocation Technology
            Level 2 capability: available
            Level 3 capability: available

If you want to skip descriptions of detected performance issues in the report,
enter: vtune -report summary -report-knob show-issues=false -r <my_result_dir>.
Alternatively, you may view the report in the csv format: vtune -report
<report_name> -format=csv.
vtune: Executing actions 100 % done
✓ 分析完成，耗时: 652s
[5/6] 生成报告...
生成 HTML 报告...
✓ 报告生成完成
  HTML 报告: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted/summary.html
  CSV 数据: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_mlcad_d181_lefttwo3rds_unrouted/*.csv

进度: 3/3
======================================================================
运行 VTune 分析
  类型: hotspots
  用例: ispd16_example2_unrouted.phys
  线程: 80
======================================================================
执行命令:
vtune -collect hotspots -result-dir /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted -- /xrepo/App/Potter_oneMKL_opt2/build/route -i /xrepo/App/Potter_oneMKL_opt2/benchmarks/ispd16_example2_unrouted.phys -o /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted/output.phys -t 80

vtune: Warning: Microarchitecture performance insights will not be available. Make sure the sampling driver is installed and enabled on your system.
vtune: Collection started. To stop the collection, either press CTRL-C or enter from another console window: vtune -r /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted -command stop.
[   0.000] input: /xrepo/App/Potter_oneMKL_opt2/benchmarks/ispd16_example2_unrouted.phys
[   0.000] output: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted/output.phys
[   0.000] device: xcvu3p.device
[   0.000] thread: 80
[   0.000] runtime first: false
[   0.000]
[   0.000] Device cache is found. Start loading.
[   3.835] Finish loading.
[   4.584] reading physical netlist...
[   4.584]
[   8.198] str_list       : 1307627
[   8.198] phys_nets      : 689763
[   8.870] preserve net: controlSig0
[   9.038] preserve net: controlSig1
[   9.772] preserve net: clk_BUFGP_net_top_wire
[  10.870] preserve net: GLOBAL_LOGIC0
[  10.949] preserve net: GLOBAL_LOGIC1
[  12.163] nets           : 448794
[  12.163] multi-src nets : 200939
[  12.163] connections    : 1454556
[  12.163] indirect connections: 1454556
[  12.163] direct connections  : 0
[  12.163]
[  22.882] DeadEndNodeForPins: 1306547
[  22.882] #DeadEndNode: 2380369
[  23.031] #DeadEndNode: 20587
[  23.034] #DeadEndNode: 1343
[  23.034] #DeadEndNode: 177
[  23.034] #DeadEndNode: 23
[  31.748] #Node: 28226432 #Node (RRG) 21691815 #Edges: 28226432 #Edges (RRG): 94758940
[  31.748] #Conns: 1454556 #Nets: 1454556 #Indirect: 1454556 #direct: 0
[  31.748] #preservedNum: 453092
[  41.355] Route indirect connections: 1454556
[  41.762] break area (not included): 272
[  41.762] 118334/448794 nets are labeled. ratio = 0.263671
[  41.762] 702069/1454556 connections are labeled, ratio = 0.482669
[  41.778] Connections bbox: [x: (-1, 108), y: (-1, 300)]
[  60.862] [kmeans] iter 130 finished.
[  60.862] [kmeans] cluster sizes:  7886 10993  4600 13499  7687  8060  4709 20442  4832 15315 17204  9077  4185  3245  6473  3900  4428 17393 15897  7965  4010 10074 13223  5404  7845  4592 13861 19697  5335  5819  6037  7031 14717  9751 13897  4272 12391 13529  5676 13428 13834 14299  4885 11058  4178 18224  8929  5527  3050  2798  4170  7949  5216 17645 20121  6735 13801 14581  3619  5749 16131 15783 15622 14046  5083  6467  5059  8745 10897 10584  4188  7155  6136  2894 15132 14304  3064  9644  5621 11185
[  60.901] Connections bbox: [x: (-1, 108), y: (-1, 300)]
[  61.610] Schedule Level: 25
[  61.610] ---------------------------------------------------------------------------------------------------------------------------
[  61.610]  Iteration        PFactor   HFactor   RoutedConnections   OverlapNodes  decreaseRatio   shareRatio     numBatches   Times
[  95.894] *        1              1         1             1454556         591346           -inf         2.46             16   34.28
[ 125.493] *        2           2.00      1.00              927792         423906           0.28         2.19             16   29.60
[ 157.618] *        3           4.00      1.00              759524         270687           0.36         2.81             16   32.13
[ 185.990] *        4           8.00      1.00              556366         172060           0.36         3.23             16   28.37
[ 214.537] *        5          16.00      1.00              355313         108050           0.37         3.29             16   28.55
[ 235.267]          6          32.00      1.00              172850           7890           0.93        21.91             16   20.73
[ 251.244]          7          64.00      1.00               54747           1523           0.81        35.95             16   15.98
[ 266.548]          8         128.00      1.00               16939            368           0.76        46.03             16   15.30
[ 283.943]          9         256.00      1.00                4673            119           0.68        39.27             16   17.40
[ 290.295]         10         512.00      1.00                2388             50           0.58        47.76             16    6.35
[ 292.206]         11        1024.00      1.00                 144             23           0.54         6.26             16    1.91
[ 293.932]         12        2048.00      1.00                  47             10           0.57         4.70             16    1.73
[ 296.230]         13        4096.00      1.00                  22              4           0.60         5.50             16    2.30
[ 296.828]         14        8192.00      1.00                  23              0           1.00          inf             16    0.60
[ 296.828] ---------------------------------------------------------------------------------------------------------------------------
[ 296.828] Congest ratio: 0.41 label: 0
Route indirect time: 255.47
[ 296.828] Route direct connections: 0
[ 296.829] Direct route [Finish]. Failure: 0 / 0
[ 296.829] Save all routing solutions [Start]
[ 298.032] FixedNetNum: 277379 / 448794
[ 298.032] Save all routing solutions [Finish]
Total route time: 256.68
[ 298.032] Dump routing solution into netlist_builder [Start]
[ 314.725] NewStrNum: 35201
[ 314.725] Dump routing solution into netlist_builder [Finish]
[ 314.785] Write to file /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted/output.phys [Start]
[ 319.039] Write to file [Finish]
Write time: 21.08
[ 319.978] Check -1: memory_peak: 128935612 kB
[ 325.867] netlist destruct
[ 325.949] Device destruct
vtune: Collection stopped.
vtune: Using result path `/xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted'
vtune: Executing actions 19 % Resolving information for `libstdc++.so.6'
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libboost_serialization.so.1.83.0'.
vtune: Executing actions 19 % Resolving information for `libtpsstool.so'
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libstdc++.so.6'.
vtune: Warning: Cannot locate debugging information for file `/xrepo/App/oneAPI/vtune/2025.4/lib64/libtpsstool.so'.
vtune: Executing actions 20 % Resolving information for `libz.so.1'
vtune: Warning: Cannot locate debugging information for file `/lib/x86_64-linux-gnu/libz.so.1'.
vtune: Executing actions 75 % Generating a report                              Elapsed Time: 326.362s
    CPU Time: 2806.442s
        Effective Time: 2806.442s
        Spin Time: 0s
        Overhead Time: 0s
    Total Thread Count: 43,610
    Paused Time: 0s

Top Hotspots
Function                                                                        Module  CPU Time  % of CPU Time(%)
------------------------------------------------------------------------------  ------  --------  ----------------
Raw::Device::get_outgoing_nodes                                                 route   578.288s             20.6%
std::vector<RouteNode*, std::allocator<RouteNode*>>::emplace_back<RouteNode*&>  route   521.767s             18.6%
RouteNode::getNeedUpdateBatchStamp                                              route   453.996s             16.2%
NodeInfo::NodeInfo                                                              route   405.746s             14.5%
aStarRoute::routeOneConnection                                                  route   184.368s              6.6%
[Others]                                                                        N/A     662.278s             23.6%
Collection and Platform Info
    Application Command Line: /xrepo/App/Potter_oneMKL_opt2/build/route "-i" "/xrepo/App/Potter_oneMKL_opt2/benchmarks/ispd16_example2_unrouted.phys" "-o" "/xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted/output.phys" "-t" "80"
    Operating System: 6.14.0-34-generic DISTRIB_ID=Ubuntu DISTRIB_RELEASE=24.04 DISTRIB_CODENAME=noble DISTRIB_DESCRIPTION="Ubuntu 24.04.3 LTS"
    Computer Name: xaccel
    Result Size: 1.5 GB
    Collection start time: 15:29:36 30/10/2025 UTC
    Collection stop time: 15:35:04 30/10/2025 UTC
    Collector Type: User-mode sampling and tracing
    CPU
        Name: Intel(R) Xeon(R) Processor code named Sapphirerapids
        Frequency: 2.200 GHz
        Logical CPU Count: 80
        LLC size: 102.2 MB
        Cache Allocation Technology
            Level 2 capability: available
            Level 3 capability: available

If you want to skip descriptions of detected performance issues in the report,
enter: vtune -report summary -report-knob show-issues=false -r <my_result_dir>.
Alternatively, you may view the report in the csv format: vtune -report
<report_name> -format=csv.
vtune: Executing actions 100 % done
✓ 分析完成，耗时: 560s
[5/6] 生成报告...
生成 HTML 报告...
✓ 报告生成完成
  HTML 报告: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted/summary.html
  CSV 数据: /xrepo/App/Potter_oneMKL_opt2/vtune_results/hotspots_ispd16_example2_unrouted/*.csv
[6/6] 生成分析摘要...
✓ 分析摘要已生成: /xrepo/App/Potter_oneMKL_opt2/vtune_results/ANALYSIS_SUMMARY.md

======================================================================
              分析完成!
======================================================================

结果目录: /xrepo/App/Potter_oneMKL_opt2/vtune_results
分析摘要: /xrepo/App/Potter_oneMKL_opt2/vtune_results/ANALYSIS_SUMMARY.md

查看报告:
  cat /xrepo/App/Potter_oneMKL_opt2/vtune_results/ANALYSIS_SUMMARY.md
  vtune-gui /xrepo/App/Potter_oneMKL_opt2/vtune_results/<result_name>
